 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
 <!--   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" ></script>
    <link rel="stylesheet" href="bootstrapformhelpers\css\bootstrap-formhelpers.min.css" />
    <script type="text/javascript" href="bootstrapformhelpers\ks\bootstrap-formhelpers.min.js" ></script>
    <script src="js/jquery.maskedinput.min.js"></script>
    <script type='text/javascript' src="https://rawgit.com/RobinHerbots/jquery.inputmask/3.x/dist/jquery.inputmask.bundle.js"></script>
    -->
        <style>

#app > * {
    border: 1px solid green;
}

#app {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
}

#app > h1 {
    grid-column: span 3;
}

.text {
    grid-column: span 2;
}


</style>

</head>
<body>
    <div id="app">

        <h1 class="p-3">Регистрация</h1>

        <div class="text">
            <form id="myForm" role="form">
                <div class="text-center">
                    <img src="" alt="QR" id="qrImage">
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="contestCB">Турнир</label><br />
                    <select id=contestCB size="1" сlass="form-control">
                        <option value="KAM">Турнир по Самбо Хусаинова А.М.</option>
                    </select>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="surnameText">Фамилия:</label><br />
                    <input id="surnameText" class="form-control" rows="1" data-mdb-input-mask="aaa999***"></input>
                </div>
				<div class="form-group mx-3 my-3">
                    <label for="firstnameText">Имя</label><br />
                    <input id="firstnameText" name="firstnameText" class="form-control" rows="1"></input>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="middlenameText">Отчество</label><br />
                    <input id="middlenameText" class="form-control" rows="1"></input>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="birthDate">Дата рождения</label><br />
                    <input id="birthDate" type="date" class="form-control" rows="1"></input>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="phoneText">Телефон</label><br />
                    <input id="phoneText" type="tel" class="form-control" name="phoneText" placeholder="+7 (999) 99 99 999" ></input>
                    
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="emailText">E-mail</label><br />
                    <input id="emailText" type="email" class="form-control" name="emailText"  placeholder="example@example.ru"></input>
                    <div class="invalid-feedback"></div>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="vkText">VK id</label><br />
                    <input id="vkText" type=url class="form-control" rows="1"></input>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="gradeCB">Категория</label><br />
                    <select id=gradeCB size="1" сlass="form-control">
                        <option value="3">3 разряд</option>
                        <option value="2">2 разряд</option>
                        <option value="1">1 разряд</option>
                        <option value="КМС">кандидат в мастера спорта</option>
                        <option value="МС">мастер спорта</option>
                        <option value="МСМК">мастер спорта международного класса</option>
                        <option value="ЗМС">заслуженный мастер спорта</option>
                    </select>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="federalDistrictCB">Федеральный округ</label><br />
                    <select id=federalDistrictCB size="1" сlass="form-control">
                        <option value="ПФО">Поволжский</option>
                        <option value="УФО">Уральский</option>
                        <option value="ЦФО">Центральный</option>
                        <option value="КМС">Дальневосточный</option>
                    </select>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="cityText">Город</label><br />
                    <input id="cityText" class="form-control" rows="1"></input>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="teamText">Клуб</label><br />
                    <input id="teamText" class="form-control" rows="1"></input>
                </div>
                <div class="form-group mx-3 my-3">
                    <label for="coachText">Тренер</label><br />
                    <input id="coachText" class="form-control" rows="1"></input>
                </div>
                <div class="form-group  mx-3 my-3">
                    <input  type="button"  class="btn btn-primary" value="Регистрация" id="generateQRCode">
                </div>


            </form>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.js"></script>

    <script>
        $("#myForm").validate({
        rules: {
          emailText: {
            required: true,
            email: true
          },
          phoneText: {
            required: true
          },
          surnameText: {
            required: true
          },
          firstnameText: {
          required: true
          },
              errorElement: 'span',
              errorClass: 'help-block'
          
          },
        messages: {
          emailText: {
            required: "Поле email обязательно для заполнения",
            email: "Некорректный email"
          },
          phoneText: {
            required: "Поле телефон обязательно для заполнения",
          },
          surnameText: {
            required: "Поле фамилия обязательно для заполнения",
          },
          firstnameText: {
          required: "Поле имя обязательно для заполнения"
        }
        }
    });
      </script>
    <script>

        /**
         * Простая функция для получения DOM-элемента
         *
         * @param selector {string}
         *
         * @return HTMLElement
         * */
        const el = (selector) => document.querySelector(selector);


        // при нажатии на кнопку
        el('#generateQRCode').addEventListener('click', function() {
           
            if ( $('#myForm').valid ) 
            {
            // получаем блок куда будет выводиться QR-код
           
            // получаем содержимое текстового поля
			let registration = {
                party:{
                    surname:el('#surnameText').value,
                    firstname:el('#firstnameText').value,
                    middlename:el('#middlenameText').value,
                    birthDate:el('#birthDate').value
                },
                contacts: {
                    phone:el('#phoneText').value,
                    email:el('#emailText').value,
                    vk:el('#vkText').value
                },
                place: {
                federalDistrict:el('#federalDistrictCB').value,
                    city:el('#cityText').value
                },
                sportway:{
                    grade:el('#gradeCB').value,
                    team:el('#teamText').value,
                    coach:el('#coachText').value
                }
                
            };
			document.getElementById('qrImage').src='http://chart.apis.google.com/chart?choe=UTF-8&chld=H&cht=qr&chs=250x250&chl='+JSON.stringify(registration);
            
        }
    });

    </script>
   
</body>
</html>